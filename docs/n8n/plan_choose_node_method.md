
# Choose your node building approach [\#](https://docs.n8n.io/integrations/creating-nodes/plan/choose-node-method\#choose-your-node-building-approach "Permanent link")

n8n has two node-building styles, declarative and programmatic.

You should use the declarative style for most nodes. This style:

- Uses a JSON-based syntax, making it simpler to write, with less risk of introducing bugs.
- Is more future-proof.
- Supports integration with REST APIs.

The programmatic style is more verbose. You must use the programmatic style for:

- Trigger nodes
- Any node that isn't REST-based. This includes nodes that need to call a GraphQL API and nodes that use external dependencies.
- Any node that needs to transform incoming data.
- Full versioning. Refer to [Node versioning](https://docs.n8n.io/integrations/creating-nodes/build/reference/node-versioning/) for more information on types of versioning.

## Data handling differences [\#](https://docs.n8n.io/integrations/creating-nodes/plan/choose-node-method/\#data-handling-differences "Permanent link")

The main difference between the declarative and programmatic styles is how they handle incoming data and build API requests. The programmatic style requires an `execute()` method, which reads incoming data and parameters, then builds a request. The declarative style handles this using the `routing` key in the `operations` object. Refer to [Node base file](https://docs.n8n.io/integrations/creating-nodes/build/reference/node-base-files/) for more information on node parameters and the `execute()` method.

## Syntax differences [\#](https://docs.n8n.io/integrations/creating-nodes/plan/choose-node-method/\#syntax-differences "Permanent link")

To understand the difference between the declarative and programmatic styles, compare the two code snippets below. This example creates a simplified version of the SendGrid integration, called "FriendGrid." The following code snippets aren't complete: they emphasize the differences in the node building styles.

In programmatic style:

```<br>import {<br>	IExecuteFunctions,<br>	INodeExecutionData,<br>	INodeType,<br>	INodeTypeDescription,<br>	IRequestOptions,<br>} from 'n8n-workflow';<br>// Create the FriendGrid class<br>export class FriendGrid implements INodeType {<br>  description: INodeTypeDescription = {<br>    displayName: 'FriendGrid',<br>    name: 'friendGrid',<br>    . . .<br>    properties: [<br>      {<br>        displayName: 'Resource',<br>        . . .<br>      },<br>      {<br>      displayName: 'Operation',<br>      name: 'operation',<br>      type: 'options',<br>      displayOptions: {<br>        show: {<br>            resource: [<br>            'contact',<br>            ],<br>        },<br>      },<br>      options: [<br>        {<br>          name: 'Create',<br>          value: 'create',<br>          description: 'Create a contact',<br>        },<br>      ],<br>      default: 'create',<br>      description: 'The operation to perform.',<br>    },<br>    {<br>      displayName: 'Email',<br>      name: 'email',<br>      . . .<br>    },<br>    {<br>      displayName: 'Additional Fields',<br>      // Sets up optional fields<br>    },<br>  ],<br>};<br>  async execute(this: IExecuteFunctions): Promise<INodeExecutionData[][]> {<br>    let responseData;<br>    const resource = this.getNodeParameter('resource', 0) as string;<br>    const operation = this.getNodeParameter('operation', 0) as string;<br>    //Get credentials the user provided for this node<br>    const credentials = await this.getCredentials('friendGridApi') as IDataObject;<br>    if (resource === 'contact') {<br>      if (operation === 'create') {<br>      // Get email input<br>      const email = this.getNodeParameter('email', 0) as string;<br>      // Get additional fields input<br>      const additionalFields = this.getNodeParameter('additionalFields', 0) as IDataObject;<br>      const data: IDataObject = {<br>          email,<br>      };<br>      Object.assign(data, additionalFields);<br>      // Make HTTP request as defined in https://sendgrid.com/docs/api-reference/<br>      const options: IRequestOptions = {<br>        headers: {<br>            'Accept': 'application/json',<br>            'Authorization': `Bearer ${credentials.apiKey}`,<br>        },<br>        method: 'PUT',<br>        body: {<br>            contacts: [<br>            data,<br>            ],<br>        },<br>        url: `https://api.sendgrid.com/v3/marketing/contacts`,<br>        json: true,<br>      };<br>      responseData = await this.helpers.httpRequest(options);<br>      }<br>    }<br>    // Map data to n8n data<br>    return [this.helpers.returnJsonArray(responseData)];<br>  }<br>}<br>```

In declarative style:

```<br>import { INodeType, INodeTypeDescription } from 'n8n-workflow';<br>// Create the FriendGrid class<br>export class FriendGrid implements INodeType {<br>  description: INodeTypeDescription = {<br>    displayName: 'FriendGrid',<br>    name: 'friendGrid',<br>    . . .<br>    // Set up the basic request configuration<br>    requestDefaults: {<br>        baseURL: 'https://api.sendgrid.com/v3/marketing'<br>    },<br>    properties: [<br>        {<br>        displayName: 'Resource',<br>        . . .<br>        },<br>        {<br>        displayName: 'Operation',<br>        name: 'operation',<br>        type: 'options',<br>        displayOptions: {<br>          show: {<br>            resource: [<br>                'contact',<br>            ],<br>          },<br>        },<br>        options: [<br>          {<br>            name: 'Create',<br>            value: 'create',<br>            description: 'Create a contact',<br>            // Add the routing object<br>            routing: {<br>                request: {<br>                method: 'POST',<br>                url: '=/contacts',<br>                send: {<br>                    type: 'body',<br>                    properties: {<br>                    email: {{$parameter["email"]}}<br>                    }<br>                }<br>                }<br>            },<br>            // Handle the response to contact creation<br>            output: {<br>                postReceive: [<br>                {<br>                    type: 'set',<br>                    properties: {<br>                    value: '={{ { "success": $response } }}'<br>                    }<br>                }<br>                ]<br>            }<br>            },<br>        ],<br>        default: 'create',<br>        description: 'The operation to perform.',<br>        },<br>        {<br>        displayName: 'Email',<br>        . . .<br>        },<br>        {<br>        displayName: 'Additional Fields',<br>        // Sets up optional fields<br>        },<br>    ],<br>  }<br>  // No execute method needed<br>}<br>```